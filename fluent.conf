<source>
  type forward
  port 24224
  bind 0.0.0.0
</source>

<filter docker.**>
  @type concat
  key log
  multiline_start_regexp /^((\d{4}-\d{1,2}-\d{1,2}\s\d{1,2}:\d{1,2}:\d{1,2}([\.|,]\d{3})?)|(\d{1,2}:\d{1,2}:\d{1,2}[\.|,]\d{3})|(\d{1,2}-(Jan|Feb|Mar|Apr|Aug|Sept|Oct|Nov|Dec)-\d{4}\s\d{1,2}:\d{1,2}:\d{1,2}\.\d{3})|((Jan|Feb|Mar|Apr|Aug|Sept|Oct|Nov|Dec)\s\d{1,2},\s\d{4}\s\d{1,2}:\d{1,2}:\d{1,2}))\s/
</filter>

<match docker.**>
  type elasticsearch
  logstash_format true
  host elasticsearch
  port 9200
  flush_interval 5s
</match>
